// vim: ft=javascript


function findHrefs(obj){
  if (typeof obj !== 'object') return [];
  return Object.entries(obj).reduce((acc, [key,value]) => {
    if (key === 'href'){
      acc.push(value);
      return acc;
    }
    return [...acc, ...findHrefs(value)].flat();
  }, []);
}


global.findNestedHrefs = (obj) => {
  const hrefs = findHrefs(obj).flat();
  const string = JSON.stringify(obj);
  return [ string, ...hrefs ].join('\n');
};
